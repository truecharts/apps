image:
  repository: tccr.io/truecharts/mc-router
  pullPolicy: IfNotPresent
  tag: v1.19.0@sha256:5534d3e251f2fbd1f9f1934abdc45ac176a137147198050c676a2a62e31e1c80

service:
  main:
    ports:
      main:
        port: 25565
  api:
    enabled: true
    ports:
      api:
        enabled: true
        port: 10687

mcrouter:
  default: ""
  mappings: []
  # - domain: minecraft.local
  #   service: minecraft-java.ix-minecraft-java.svc.cluster.local:25565"
  ngrok: ""

workload:
  main:
    podSpec:
      containers:
        main:
          probes:
            liveness:
              enabled: true
              type: tcp
            readiness:
              enabled: true
              type: tcp
            startup:
              enabled: true
              type: tcp
          env:
            PORT: ":{{ .Values.service.main.ports.main.port }}"
            API_BINDING: "{{ .Values.service.api.ports.api.port }}"
            DEFAULT: "{{ .Values.mcrouter.default }}"
            MAPPING:
              secretKeyRef:
                name: mcrouter-secrets
                key: MAPPING
            NGROK_TOKEN: "{{ .Values.mcrouter.ngrok }}"

portal:
  open:
    enabled: false
