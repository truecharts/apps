image:
  repository: ghcr.io/xstar97/rcon-cli-web
  pullPolicy: IfNotPresent
  tag: v0.0.6@sha256:70c5b8eba3ca5f33c14ed2ef5b79a281fde64906a75f466ac5e6943e44adafca

service:
  main:
    ports:
      main:
        protocol: http
        port: 3000

rcon_cli_web:
  servers:
    - name: "default"
      address: "localhost:25575"
      password: "1234567890"
      type: "rcon"
      timeout: "30s"
    - name: "server1"
      address: "localhost:25576"
      password: "123456789"
      type: "rcon"
      timeout: "20s"
    - name: "server2"
      address: "localhost:25577"
      password: "12345678"
      type: "rcon"
      timeout: "10s"

workload:
  main:
    podSpec:
      containers:
        main:
          args:
            - "/app/rcon-cli-web"
            - --port={{ .Values.service.main.ports.main.port }}
            - --cli-config={{ .Values.persistence.rcon.mountPath }}
            - --db-json-file={{ .Values.persistence.config.mountPath }}/saved.json
          env:
            # for container
            PORT: "{{ .Values.service.main.ports.main.port }}"

persistence:
  config:
    enabled: true
    mountPath: "/config"
  logs:
    enabled: true
    mountPath: "/logs"
  rcon:
    enabled: true
    type: configmap
    objectName: rcon-config
    mountPath: /config/rcon.yaml
    subPath: rcon.yaml
    readOnly: true

portal:
  open:
    enabled: true
