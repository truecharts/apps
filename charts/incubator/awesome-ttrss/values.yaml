image:
  repository: tccr.io/truecharts/awesome-ttrss
  pullPolicy: IfNotPresent
  tag: v2023-06@sha256:f24152b6b7778ff6ace451dbc5b114e614414d2d0db832c244b28c7ac839df57

securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsNonRoot: false
    runAsUser: 0
    runAsGroup: 0

persistence:
  icons:
    enabled: true
    targetSelector:
      main:
        main:
          mountPath: "/var/www/feed-icons"
  plugins:
    enabled: true
    targetSelector:
      main:
        main:
          mountPath: "/var/www/plugins.local"
  themes:
    enabled: true
    targetSelector:
      main:
        main:
          mountPath: "/var/www/themes.local"

workload:
  main:
    podspec:
      containers:
        main:
          probes:
            liveness:
              type: http
              path: /
            readiness:
              type: http
              path: /
            startup:
              type: http
              path: /
          env:
            # -- External URL you use to connect to the RSS (the one you enter in your browser)
            SELF_URL_PATH: ""
            DB_HOST:
              secretKeyRef:
                name: cnpg-main-urls
                key: host
            DB_PORT: "5432"
            DB_NAME: "{{ .Values.cnpg.main.database }}"
            DB_USER: "{{ .Values.cnpg.main.user }}"
            DB_PASS:
              secretKeyRef:
                name: cnpg-main-user
                key: password
service:
  main:
    ports:
      main:
        port: 10246
        targetPort: 80

cnpg:
  main:
  enabled: true
  user: awesome-ttrss
  database: awesome-ttrss

portal:
  open:
    enabled: true
