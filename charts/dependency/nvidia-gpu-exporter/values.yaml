image:
  repository: utkuozdemir/nvidia_gpu_exporter
  pullPolicy: IfNotPresent
  tag: 1.2.0
service:
  main:
    ports:
      main:
        protocol: http
        port: 9835
workload:
  main:
    type: DaemonSet
    podSpec:
      containers:
        main:
          args:
            - --web.listen-address
            - :{{ .Values.service.main.ports.main.port }}
            - --web.telemetry-path
            - /metrics
            - --nvidia-smi-command
            - nvidia-smi
          probes:
            liveness:
              path: /
              port: main
            readiness:
              path: /
              port: main
            startup:
              type: tcp
              port: main
metrics:
  main:
    # -- Enable and configure a Prometheus serviceMonitor for the chart under this key.
    # @default -- See values.yaml
    enabled: true
    type: "servicemonitor"
    endpoints:
      - port: main
        path: /metrics
portal:
  open:
    enabled: false
